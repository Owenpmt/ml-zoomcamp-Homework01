import pandas as pd
import numpy as np
from numpy.linalg import cond

#Get panda verion no
print("Q1 panda version: ", pd.__version__)

#Set data to read csv file
data = pd.read_csv("C:/Users/owent/Documents/Python/ml-zoomcamp_Homework/laptops.csv")

#tuple getting number of rows and columns
print("Q2 Number of records: ",data.shape)


print("Q3 Number of laptop brands: ", data['Brand'].nunique())

#looping through data columns and adding 1 to missingValues for each column that has a null
missingValues = 0
for col in data.columns:
    if data[col].isnull().any():
        missingValues = missingValues + 1
print("Q4 Number of missing values", missingValues)

print("Q5 Maximum final price: ", data[data["Brand"] == "Dell"]["Final Price"].max())



screenMedianValue = data['Screen'].median()
mostCommonScreenValueBefore = data['Screen'].mode()

fillValues = {'Screen': mostCommonScreenValueBefore}
filledData = data.fillna(fillValues)['Screen']

screenMedianValueNoNan = filledData.median()

print("Q6 Median value of screen: ", "The median value before is ", screenMedianValue, 
      ", and the median value after is ", screenMedianValueNoNan)


#Put the Ram, storage and screen columns of all Innjoo laptops in an array called X. 
innjooData = data[data['Brand'] == 'Innjoo']
X = innjooData[['RAM', 'Storage', 'Screen']]

XTX = X.T.dot(X)
XTX = np.linalg.inv(XTX)

Y = [1100, 1300, 800, 900, 1000, 1100]

W = (XTX.dot(X.T)) * Y

print("Q7 Sum of weights", np.sum(W))